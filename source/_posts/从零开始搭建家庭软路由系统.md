---
title: 从零开始搭建家庭软路由系统（安装OpenWrt，并做为旁路由接入家庭网络）
excerpt: 整理了安装OpenWrt，并做为旁路由接入家庭网络的方法，希望帮到刚入手软路由的小伙伴，轻松搭建软路由~
date: 2024-01-26 13:30:00
index_img: https://fsmt-blog.oss-cn-beijing.aliyuncs.com/cover/openwrt1.png
banner_img: https://fsmt-blog.oss-cn-beijing.aliyuncs.com/cover/openwrt1.png
tags:
- 软路由
categories:
- 软路由
---
{% note info %}
本文由 Fluid 用户授权转载，版权归原作者所有。

本文作者：--
原文地址：https://whrss.com/post/soft-routes
{% endnote %}
# 制作启动盘
我选择的系统是 [OpenWRT/LEDE](https://openwrt.org/) 在国内的家庭软路由中有着非常高的占有率，拥有海量的软件，和非常强大的生态。同时，OpenWRT 的教程也很丰富详实。
这里我使用的是 [KoolShare](https://fw.koolcenter.com/) 固件，内置了非常强大的插件市场。
## 下载efi
![](http://fsmt-blog.oss-cn-beijing.aliyuncs.com/2024/01/26/17062472361442.jpg)
![](http://fsmt-blog.oss-cn-beijing.aliyuncs.com/2024/01/26/17062472598613.jpg)
找到最新版本进行下载。
![](http://fsmt-blog.oss-cn-beijing.aliyuncs.com/2024/01/26/17062472701415.jpg)
## 写盘
下载完成后，使用balenaetcher写盘工具进行写盘，
- 如果没有安装balenaEtcher，首先需要下载并安装。
- 插入你的U盘，并打开balenaEtcher。
- 点击“选择镜像”按钮，选择刚才下载的.gz文件。
- 点击“选择驱动器”按钮，选择你插入的U盘。
- 点击“写入”按钮，balenaEtcher将开始写入镜像文件到你的U盘。
- 等待写入过程完成，并在完成后安全地弹出。
# 安装和设置
## 安装
- 将写好的盘插入软路由，接一个显示器和一个键盘给软路由，接上电源，开机。按f11(不同机器不同快捷键)进入快速启动。一切自动执行到终端提示完成，回车，提示出OpenWrt图标。
- 输入quickstart，1 设置Lan口IP，2 安装OpenWrt，3 重置 
- 选择2安装操作系统。这时候会提示安装位置，如果识别磁盘没有问题，就会让你选择你内部的固态或者sata硬盘。如果提示没有找到硬盘，就是硬盘有问题或者接口接错了（我在使用sata协议的m.2接口固态硬盘时，提示了这个问题，固态硬盘需要选择nvme接口协议的） 
- 几秒后会提示你拔掉U盘，这时候就会自动重启进入系统。 
- 同样的 输入quickstart  选择1 设置lan口IP。可以设置为 192.168.2.6， 子网掩码设置为255.255.255.0（等下会说明用途）
- 接一根网线从软路由 lan 口到 PC 上，pc打开浏览器，访问 192.168.2.6 ，这时候会进入软路由后台，用户名root 默认密码 password 
到这里，安装基本完成，openWrt可以进入后台访问。
## 设置旁路由
旁路由就是将软路由接入在普通硬路由下，做数据处理。
![](http://fsmt-blog.oss-cn-beijing.aliyuncs.com/2024/01/26/17062473422061.jpg)
* 在硬路由器控制台上禁用 DHCP 功能，然后记录下其 LAN 口 IP 地址（例如，我的是 192.168.2.5）
* 在软路由面板的“网络”下，选择“接口”并设置 LAN 口，将 LAN 口 IP 设置为硬路由器 IP 同一网段（也就是192.168.2.6），将网关地址和 DNS 解析地址都设置为硬路由器 LAN 口地址 192.168.2.5 点击保存并应用。

拔下PC网线，将软路由Lan口与硬路由Lan口相连。
电脑连接原先的硬路由wifi网络， 浏览器输入192.168.2.6，正确访问到软路由后台。再登录软路由后台系统，检查网络状况，已连通。


